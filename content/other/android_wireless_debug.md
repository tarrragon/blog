---
title: "Android 無線調試連接指南"
date: 2025-02-01
draft: false
description: "透過 ADB 無線偵錯功能，免 USB 線連接 Android 裝置進行開發調試的完整步驟指南"
tags: ["android", "adb", "debug"]
---

## 前置條件

- Android 裝置系統版本 **Android 11 以上**
- 電腦與 Android 裝置連接在**同一個區域網路**
- 已安裝 ADB 工具（通常隨 Android Studio 安裝）

---

## 步驟一：啟用無線偵錯

1. 進入 Android 裝置的 **設定 → 開發人員選項**
2. 開啟 **無線偵錯（Wireless debugging）**
3. 在彈出的對話框中選擇「允許」

---

## 步驟二：配對裝置（首次連接需要）

### 在 Android 裝置上：

1. 點擊 **無線偵錯** 進入詳細頁面
2. 點擊 **使用配對碼配對裝置**
3. 記下畫面上顯示的：
   - **IP 位址與配對端口**（例如：`192.168.1.100:45213`）
   - **配對碼**（6 位數字）

### 在電腦終端機上：

```bash
adb pair <IP>:<配對端口>
```

範例：

```bash
adb pair 192.168.1.100:45213
```

輸入配對碼後，看到以下訊息表示配對成功：

```text
Successfully paired to 192.168.1.100:45213
```

> ⚠️ **注意**：配對碼有時效性，產生後請盡快輸入

---

## 步驟三：連接裝置

### 在 Android 裝置上：

回到**無線偵錯主頁面**，查看顯示的 **IP 位址與連接端口**（與配對端口不同）

例如：`192.168.1.100:38745`

### 在電腦終端機上：

```bash
adb connect <IP>:<連接端口>
```

範例：

```bash
adb connect 192.168.1.100:38745
```

看到以下訊息表示連接成功：

```text
connected to 192.168.1.100:38745
```

---

## 步驟四：驗證連接

```bash
adb devices
```

或使用 Flutter：

```bash
flutter devices
```

應該能看到無線連接的裝置列表。

---

## 常用指令速查

| 用途           | 指令                                  |
| -------------- | ------------------------------------- |
| 配對裝置       | `adb pair <IP>:<配對端口>`            |
| 連接裝置       | `adb connect <IP>:<連接端口>`         |
| 查看已連接裝置 | `adb devices`                         |
| 中斷連接       | `adb disconnect <IP>:<連接端口>`      |
| 重啟 ADB 服務  | `adb kill-server && adb start-server` |

---

## 疑難排解

### 配對失敗

- 確認電腦與裝置在同一區網
- 檢查路由器是否開啟 AP 隔離功能
- 暫時關閉電腦防火牆測試

### 連接後無法使用

- 確認使用的是「連接端口」而非「配對端口」
- 嘗試重啟 ADB 服務：`adb kill-server && adb start-server`

### 裝置離線或消失

- 無線偵錯可能因裝置休眠而中斷
- 重新執行 `adb connect` 即可恢復

---

## 流程圖

```text
┌─────────────────┐
│  啟用無線偵錯   │
└────────┬────────┘
         ▼
┌─────────────────┐
│  取得配對資訊   │ ← 配對端口 + 配對碼
└────────┬────────┘
         ▼
┌─────────────────┐
│   adb pair      │ ← 首次連接需要
└────────┬────────┘
         ▼
┌─────────────────┐
│  取得連接端口   │ ← 無線偵錯主頁面
└────────┬────────┘
         ▼
┌─────────────────┐
│  adb connect    │
└────────┬────────┘
         ▼
┌─────────────────┐
│    連接完成     │
└─────────────────┘
```

---
